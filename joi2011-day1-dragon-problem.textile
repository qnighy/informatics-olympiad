---
layout: default
title: "Dragon(ドラゴン) - joi2011-day1"
source: "第10回日本情報オリンピック 日本代表選手選考会"
source_url: "http://www.ioi-jp.org/camp/2011/2011-sp-tasks/index.html"
timelimit: "10秒"
memlimit: "64MB"
---

IOIの競技会場にドラゴンたちが入ってきてしまった. 競技会場は長方形の部屋であり, <var>H</var> 行 <var>W</var> 列のマスに区切られている. 行には 1 から <var>H</var> まで, 列には 1 から<var>W</var> までの番号がふられていて, <var>x</var> 行目 <var>y</var> 列目のマスを (<var>x</var>, <var>y</var>) で表す. 入ってきたドラゴンは <var>N</var> 匹であり, <var>i</var> 匹目のドラゴンは (<var>X</var><sub><var>i</var></sub>, <var>Y</var><sub><var>i</var></sub>) にいる. 同じマスにドラゴンが 2 匹以上いることはない. ドラゴンと同じ行または同じ列のマスには, ドラゴンが炎を吹いて攻撃することがある. 選手は, ドラゴンのいないマスに, 1 マスに 1 人まで入ることができるが, ドラゴンに攻撃される可能性のあるマスには入ることができない. JOIのM理事長は, 少しでも参加可能な選手の数を増やすため, 防火装置をもってドラゴンのいないどこかのマスに立つことにした. 選手とドラゴンが同じ行または列にいる場合でも, 間にM理事長がいれば炎を通さないので, 選手はそのドラゴンからは攻撃されない. ただし, M理事長は全ての問題の答えを知っているので, M理事長のいるマスには選手は入れない.

h2. 課題

競技会場の大きさの情報と, ドラゴンの位置の情報が与えられたとき, M理事長が最適なマスに立った場合の競技会場に入れる選手の人数の最大値を求めるプログラムを作成せよ.

h2. 制限

|1 &le; <var>H</var> &le; 1 000 000 000|競技会場の行数|
|1 &le; <var>W</var> &le; 1 000 000 000|競技会場の列数|
|1 &le; <var>N</var> &le; 100 000|ドラゴンの数|
|1 &le; <var>X</var><sub><var>i</var></sub> &le; <var>H</var>, 1 &le; <var>Y</var><sub><var>i</var></sub> &le; <var>W</var>|<var>i</var> 番目のドラゴンの位置|

h2. 入力

標準入力から以下の入力を読み込め.

* 1 行目には整数 <var>H</var>, <var>W</var>, <var>N</var> が空白を区切りとして書かれている.
* 続く <var>N</var> 行にはドラゴンの位置の情報が書かれている. <var>i</var> + 1 行目(1 &le; <var>i</var> &le; <var>N</var>) には, <var>i</var> 番目のドラゴンの位置を表す整数<var>X</var><sub><var>i</var></sub>, <var>Y</var><sub><var>i</var></sub> が空白を区切りとして書かれている. ただし, 同じマスにドラゴンが 2 匹以上いることはない. また, 少なくとも 1 つドラゴンのいないマスがある.

h2. 出力

標準出力に, 競技会場に入れる選手の人数の最大値を 1 行で出力せよ.

h2. 採点基準

* 採点用データのうち, 配点の 30% 分については, <var>H</var> &le; 1 000 かつ <var>W</var> &le; 1 000 を満たす.
* 採点用データのうち, 配点の 40% 分については, <var>N</var> &le; 1 000 を満たす.
* 採点用データのうち, 配点の 20% 分については, これら2つの条件の両方を満たす.
* 採点用データのうち, 配点の 50% 分については, これら2つの条件の少なくとも一方を満たす.

h2. 入出力の例

|_. 入力例|_. 出力例|
|<samp>4 6 3
2 4
3 5
2 3</samp>|<samp>9</samp>|

下図は, この入力例に対応している. Dはドラゴンを表す.

<div class="img-tableau">
  <img src="joi2011-day1-dragon-img1.png" width="217" height="104" alt="[Dragon img1]">
</div>

下図は, M理事長と選手の配置例であり, MはM理事長を, Cは選手を表す. この配置では 9 人の選手が入ることができ, M理事長をどこに配置しても 10 人以上の選手が入ることはできない.

<div class="img-tableau">
  <img src="joi2011-day1-dragon-img2.png" width="220" height="107" alt="[Dragon img2]">
</div>

